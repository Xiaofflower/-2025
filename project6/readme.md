
## **代码核心功能**

实现了\*\*两方私有交集与加权和计算（Private Intersection-Sum）\*\*的单机模拟协议，保证双方隐私：

* **P1**：拥有 ID 集 V，得到交集大小和加密和。
* **P2**：拥有 ID 集 W 和每个 ID 对应数值 t，得到交集加权和明文。
* **技术手段**：

  * **DDH 指数运算**：模拟椭圆曲线群元素，保护 ID 隐私。
  * **Paillier 同态加密**：加密交集中的数值，实现加法同态。



## **协议流程**

1. **Round 1（P1 → P2）**：P1 对每个 ID 映射为标量并指数化，再打乱顺序发送给 P2。
2. **Round 2（P2 → P1）**：P2 再指数化 P1 发送的元素，同时将自己的 (ID, t) 加密后发送给 P1。
3. **Round 3（P1 → P2）**：P1 检测交集、累加加密数值并返回加密和。P2 解密得到交集和。



## **安全性**

* P1 不知道 P2 的非交集信息。
* P2 不知道 P1 的具体 ID，只能得到加权和。
* 使用 DDH 和同态加密保证隐私。


## **简化说明**

* 实际 DDH 应用用椭圆曲线群，这里用整数标量模拟。
* 单机模拟，没有真实网络通信。

